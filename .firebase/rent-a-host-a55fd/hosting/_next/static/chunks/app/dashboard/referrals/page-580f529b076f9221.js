(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3768],{6473:(e,r,t)=>{Promise.resolve().then(t.bind(t,1411))},1411:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var s=t(5155),a=t(9749),l=t(2508),d=t(6719),n=t(5121),i=t(6814),o=t(7058),c=t(7081),u=t(2115);function f(){return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(c.E,{className:"h-10 w-full"}),(0,s.jsx)(c.E,{className:"h-10 w-full"}),(0,s.jsx)(c.E,{className:"h-10 w-full"}),(0,s.jsx)(c.E,{className:"h-10 w-full"}),(0,s.jsx)(c.E,{className:"h-10 w-full"})]})}function m(){let{user:e}=(0,i.useUser)(),r=(0,i.useFirestore)(),[t,c]=(0,u.useState)(!1);(0,u.useEffect)(()=>{c(!0)},[]);let m=(0,i.useMemoFirebase)(()=>e&&r?(0,o.rJ)(r,"users",e.uid,"referrals"):null,[r,null==e?void 0:e.uid]),{data:x,isLoading:h}=(0,i.useCollection)(m),j=(0,u.useMemo)(()=>x?[...x].sort((e,r)=>{var t,s,a,l;return(null!==(a=null===(t=r.date)||void 0===t?void 0:t.toMillis())&&void 0!==a?a:0)-(null!==(l=null===(s=e.date)||void 0===s?void 0:s.toMillis())&&void 0!==l?l:0)}):[],[x]);return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold font-headline heading-red",children:"Your Referrals"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"A complete list of every user you've referred."})]}),(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{children:[(0,s.jsx)(a.ZB,{children:"All Referrals"}),(0,s.jsx)(a.BT,{children:"Commissions are paid on recurring payments after the user activates and completes their trial."})]}),(0,s.jsx)(a.Wu,{children:h||!x?(0,s.jsx)(f,{}):j.length>0?(0,s.jsxs)(l.XI,{children:[(0,s.jsx)(l.A0,{children:(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nd,{children:"Username"}),(0,s.jsx)(l.nd,{children:"Plan"}),(0,s.jsx)(l.nd,{children:"Commission"}),(0,s.jsx)(l.nd,{children:"Status"}),(0,s.jsx)(l.nd,{className:"text-right",children:"Date"})]})}),(0,s.jsx)(l.BF,{children:j.map(e=>(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nA,{className:"font-medium",children:e.referredUserUsername}),(0,s.jsx)(l.nA,{children:e.planPurchased}),(0,s.jsxs)(l.nA,{children:["$",(e.commission||0).toFixed(2)]}),(0,s.jsx)(l.nA,{children:(0,s.jsx)(n.E,{variant:"activated"===e.activationStatus?"default":"secondary",className:"activated"===e.activationStatus?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800",children:e.activationStatus})}),(0,s.jsx)(l.nA,{className:"text-right",children:t&&e.date?(0,d.GP)(e.date.toDate(),"MMM d, yyyy"):"..."})]},e.id))})]}):(0,s.jsxs)("div",{className:"text-center text-muted-foreground py-10 border-2 border-dashed rounded-lg bg-slate-50/50",children:[(0,s.jsx)("p",{children:"No referrals to show yet."}),(0,s.jsx)("p",{className:"text-sm",children:"Share your affiliate link to get started!"})]})})]})]})}},5121:(e,r,t)=>{"use strict";t.d(r,{E:()=>n});var s=t(5155);t(2115);var a=t(1027),l=t(1567);let d=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:r,variant:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)(d({variant:t}),r),...a})}},9749:(e,r,t)=>{"use strict";t.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>d,aR:()=>n,wL:()=>u});var s=t(5155),a=t(2115),l=t(1567);let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});d.displayName="Card";let n=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});n.displayName="CardHeader";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});i.displayName="CardTitle";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},7081:(e,r,t)=>{"use strict";t.d(r,{E:()=>l});var s=t(5155),a=t(1567);function l(e){let{className:r,...t}=e;return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",r),...t})}},2508:(e,r,t)=>{"use strict";t.d(r,{A0:()=>n,BF:()=>i,Hj:()=>o,XI:()=>d,nA:()=>u,nd:()=>c});var s=t(5155),a=t(2115),l=t(1567);let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:(0,l.cn)("w-full caption-bottom text-sm",t),...a})})});d.displayName="Table";let n=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("thead",{ref:r,className:(0,l.cn)("[&_tr]:border-b",t),...a})});n.displayName="TableHeader";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("tbody",{ref:r,className:(0,l.cn)("[&_tr:last-child]:border-0",t),...a})});i.displayName="TableBody",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("tfoot",{ref:r,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a})}).displayName="TableFooter";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("tr",{ref:r,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a})});o.displayName="TableRow";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("th",{ref:r,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a})});c.displayName="TableHead";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("td",{ref:r,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a})});u.displayName="TableCell",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("caption",{ref:r,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",t),...a})}).displayName="TableCaption"}},e=>{var r=r=>e(e.s=r);e.O(0,[2992,3644,8249,9680,615,9100,6814,8441,1517,7358],()=>r(6473)),_N_E=e.O()}]);