(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5988],{9023:(e,r,t)=>{Promise.resolve().then(t.bind(t,7045))},7045:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>F});var s=t(5155),a=t(3312),i=t(9749),o=t(6754),n=t(5564),d=t(2783),l=t(5357),c=t(6814),u=t(7058),p=t(2115),f=t(2508),m=t(5121),b=t(6719),g=t(530),x=t(7081);function h(){return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(x.E,{className:"h-10 w-full"}),(0,s.jsx)(x.E,{className:"h-10 w-full"})]})}function F(){let{user:e}=(0,c.useUser)(),r=(0,c.useFirestore)(),{toast:t}=(0,n.dj)(),[F,y]=(0,p.useState)(!1);(0,p.useEffect)(()=>{y(!0)},[]);let[v,S]=(0,p.useState)(""),[N,A]=(0,p.useState)(!1),j=(0,c.useMemoFirebase)(()=>e&&r?(0,u.H9)(r,"users",e.uid):null,[null==e?void 0:e.uid,r]),{data:E,isLoading:C}=(0,c.useDoc)(j),I=(0,c.useMemoFirebase)(()=>e&&r?(0,u.P)((0,u.rJ)(r,"users",e.uid,"refundRequests"),(0,u.My)("requestedAt","desc")):null,[r,null==e?void 0:e.uid]),{data:_,isLoading:P}=(0,c.useCollection)(I),T=(0,p.useMemo)(()=>{var e;return null!==(e=null==_?void 0:_.some(e=>"pending"===e.status))&&void 0!==e&&e},[_]),B=C||P,w=!T&&!B&&!!(null==E?void 0:E.subscription);return(0,s.jsxs)("div",{className:"space-y-8 max-w-3xl animate-in fade-in duration-300",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold font-headline heading-red",children:"Request a Refund"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Submit a refund request or view the status of your existing requests."})]}),B?(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(x.E,{className:"h-8 w-1/2"})}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)(h,{})})]}):(0,s.jsxs)(s.Fragment,{children:[_&&_.length>0&&(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Your Refund Requests"}),(0,s.jsx)(i.BT,{children:"A history of all your submitted refund requests."})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)(f.XI,{children:[(0,s.jsx)(f.A0,{children:(0,s.jsxs)(f.Hj,{children:[(0,s.jsx)(f.nd,{children:"Date Requested"}),(0,s.jsx)(f.nd,{children:"Reason"}),(0,s.jsx)(f.nd,{className:"text-right",children:"Status"})]})}),(0,s.jsx)(f.BF,{children:_.map(e=>(0,s.jsxs)(f.Hj,{children:[(0,s.jsx)(f.nA,{children:F&&e.requestedAt?(0,b.GP)(e.requestedAt.toDate(),"PP"):"..."}),(0,s.jsx)(f.nA,{className:"max-w-xs truncate",children:e.reason}),(0,s.jsx)(f.nA,{className:"text-right",children:(0,s.jsx)(m.E,{variant:"processed"===e.status?"secondary":"pending"===e.status?"default":"destructive",className:"pending"===e.status?"bg-amber-500 hover:bg-amber-600 text-white":"",children:e.status})})]},e.id))})]})})]}),w?(0,s.jsx)(i.Zp,{className:"animate-in slide-in-from-bottom-2",children:(0,s.jsxs)("form",{onSubmit:s=>{if(s.preventDefault(),!r||!e||!e.email||!e.displayName){t({variant:"destructive",title:"Error",description:"You must be logged in to submit a request."});return}if(!E||!E.subscription){t({variant:"destructive",title:"Error",description:"Could not find an active subscription to refund."});return}let a=g.nb.find(e=>{var r;return e.id===(null===(r=E.subscription)||void 0===r?void 0:r.tierId)});if(!a){t({variant:"destructive",title:"Error",description:"Could not find subscription plan details."});return}if(v.trim().length<10){t({variant:"destructive",title:"Reason too short",description:"Please provide a more detailed reason for your request."});return}A(!0);let i=(0,u.rJ)(r,"users",e.uid,"refundRequests"),o={userId:e.uid,userEmail:e.email,userUsername:e.displayName,reason:v,amount:a.price,status:"pending",requestedAt:(0,u.O5)()},n=(0,u.H9)(r,"users",e.uid);(0,c.addDocumentNonBlocking)(i,o).then(()=>{(0,c.updateDocumentNonBlocking)(n,{subscription:null}),t({title:"Request Submitted",description:"Your subscription has been cancelled. You can choose a new plan from the 'Upgrade' page."}),S("")}).catch(()=>{t({variant:"destructive",title:"Submission Failed",description:"An unexpected client error occurred."})}).finally(()=>{A(!1)})},children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"New Refund Request"}),(0,s.jsx)(i.BT,{children:"Your refund will be for your initial one-day payment. Please provide a reason below."})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)(o.T,{id:"reason",name:"reason",placeholder:"Please tell us why you are requesting a refund...",required:!0,rows:6,value:v,onChange:e=>S(e.target.value),disabled:N})}),(0,s.jsx)(i.wL,{children:(0,s.jsx)(a.$,{type:"submit",disabled:N,children:N?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{className:"animate-spin mr-2"}),"Submitting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{className:"mr-2"}),"Submit Refund Request"]})})})]})}):!T&&!(null==E?void 0:E.subscription)&&!B&&(0,s.jsx)(i.Zp,{children:(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"No Active Subscription"}),(0,s.jsx)(i.BT,{children:"You can only request a refund if you have an active subscription or have recently paid the activation fee."})]})})]})]})}},5121:(e,r,t)=>{"use strict";t.d(r,{E:()=>n});var s=t(5155);t(2115);var a=t(1027),i=t(1567);let o=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:r,variant:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)(o({variant:t}),r),...a})}},9749:(e,r,t)=>{"use strict";t.d(r,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>o,aR:()=>n,wL:()=>u});var s=t(5155),a=t(2115),i=t(1567);let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let n=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...a})});n.displayName="CardHeader";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});d.displayName="CardTitle";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...a})});l.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},7081:(e,r,t)=>{"use strict";t.d(r,{E:()=>i});var s=t(5155),a=t(1567);function i(e){let{className:r,...t}=e;return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",r),...t})}},2508:(e,r,t)=>{"use strict";t.d(r,{A0:()=>n,BF:()=>d,Hj:()=>l,XI:()=>o,nA:()=>u,nd:()=>c});var s=t(5155),a=t(2115),i=t(1567);let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:(0,i.cn)("w-full caption-bottom text-sm",t),...a})})});o.displayName="Table";let n=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("thead",{ref:r,className:(0,i.cn)("[&_tr]:border-b",t),...a})});n.displayName="TableHeader";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("tbody",{ref:r,className:(0,i.cn)("[&_tr:last-child]:border-0",t),...a})});d.displayName="TableBody",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("tfoot",{ref:r,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a})}).displayName="TableFooter";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("tr",{ref:r,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a})});l.displayName="TableRow";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("th",{ref:r,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a})});c.displayName="TableHead";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("td",{ref:r,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a})});u.displayName="TableCell",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("caption",{ref:r,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",t),...a})}).displayName="TableCaption"},6754:(e,r,t)=>{"use strict";t.d(r,{T:()=>o});var s=t(5155),a=t(2115),i=t(1567);let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a})});o.displayName="Textarea"},5564:(e,r,t)=>{"use strict";t.d(r,{dj:()=>p});var s=t(2115);let a=0,i=new Map,o=e=>{if(i.has(e))return;let r=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,r)},n=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?o(t):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},d=[],l={toasts:[]};function c(e){l=n(l,e),d.forEach(e=>{e(l)})}function u(e){let{...r}=e,t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function p(){let[e,r]=s.useState(l);return s.useEffect(()=>(d.push(r),()=>{let e=d.indexOf(r);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},530:(e,r,t)=>{"use strict";t.d(r,{nb:()=>s,qK:()=>a});let s=[{id:"starter",name:"Starter",price:4.95,paypalPlanId_Sandbox:"P-11976043Y1636863PNF67FXA",paypalPlanId_Live:"REPLACE_WITH_LIVE_PLAN_ID",description:"Launch your affiliate journey with these essential tools.",guideAccessLevel:"starter",features:["3 Websites","20 GB NVMe Storage","Free SSL Certificates","Daily Backups","Basic AI Content Tools","Access to Starter Marketing Guides","Standard Support","70% Affiliate Commission"]},{id:"plus",name:"Plus",price:19.95,paypalPlanId_Sandbox:"P-1EG68235K3435163JNF7SDFA",paypalPlanId_Live:"REPLACE_WITH_LIVE_PLAN_ID",description:"Everything in Starter, plus more power and speed.",guideAccessLevel:"plus",features:["10 Websites","50 GB NVMe Storage","Global CDN for faster loading speeds","Free SSL Certificates","Daily Backups","Standard AI Suite","Access to Plus Marketing Guides","Standard Support","70% Affiliate Commission"]},{id:"pro",name:"Pro",price:49.95,paypalPlanId_Sandbox:"P-5W037679NJ177610XNF7SEFQ",paypalPlanId_Live:"REPLACE_WITH_LIVE_PLAN_ID",description:"Professional tools for serious affiliates.",guideAccessLevel:"pro",features:["25 Websites","100 GB NVMe Storage","1-Click Staging Environment","Global CDN for faster loading speeds","Free SSL Certificates","Daily Backups","Advanced AI Suite","Access to Pro Marketing Guides","Priority Support","70% Base / 75% Target Commission"],isMostPopular:!0},{id:"business",name:"Business",price:99.95,paypalPlanId_Sandbox:"P-6JG346243U749934ENF7SFSA",paypalPlanId_Live:"REPLACE_WITH_LIVE_PLAN_ID",description:"Business tools for established agencies.",guideAccessLevel:"business",features:["75 Websites","250 GB NVMe Storage","Dedicated IP Address","1-Click Staging Environment","Global CDN for faster loading speeds","Free SSL Certificates","Daily Backups","Pro AI Suite","Access to Business Marketing Guides","Priority Support","70% Base / 75% Target Commission"]},{id:"scale",name:"Scale",price:299.95,paypalPlanId_Sandbox:"P-9SY225236J3759335NF7SGRQ",paypalPlanId_Live:"REPLACE_WITH_LIVE_PLAN_ID",description:"Tools for scaling your operations.",guideAccessLevel:"scale",features:["150 Websites","500 GB NVMe Storage","Dedicated IP Address","1-Click Staging Environment","Global CDN for faster loading speeds","Free SSL Certificates","Daily Backups","Business AI Suite","Access to Scale-Level Marketing Guides","Dedicated Support","70% Base / 75% Target Commission"]},{id:"enterprise",name:"Enterprise",price:499.95,paypalPlanId_Sandbox:"P-5Y2152619Y596201DNF7SHLI",paypalPlanId_Live:"REPLACE_WITH_LIVE_PLAN_ID",description:"Enterprise-grade tools for power-users.",guideAccessLevel:"enterprise",features:["Unlimited Websites","1 TB NVMe Storage","Dedicated IP Address","1-Click Staging Environment","Global CDN for faster loading speeds","Free SSL Certificates","Daily Backups","Enterprise AI Suite","Access to Enterprise Marketing Guides","Dedicated Account Manager","70% Base / 75% Target Commission"]}],a=[{name:"Vibrant Violet",colors:{"--primary-color":"#8B5CF6","--secondary-color":"#EC4899","--background-color":"#F5F3FF","--card-background":"#FFFFFF","--text-color":"#1F2937","--muted-color":"#6B7280"}},{name:"Crimson Tide",colors:{"--primary-color":"#DC2626","--secondary-color":"#F472B6","--background-color":"#FEF2F2","--card-background":"#FFFFFF","--text-color":"#1F2937","--muted-color":"#6B7280"}},{name:"Forest Green",colors:{"--primary-color":"#16A34A","--secondary-color":"#84CC16","--background-color":"#F0FDF4","--card-background":"#FFFFFF","--text-color":"#1F2937","--muted-color":"#6B7280"}},{name:"Ocean Blue",colors:{"--primary-color":"#2563EB","--secondary-color":"#22D3EE","--background-color":"#EFF6FF","--card-background":"#FFFFFF","--text-color":"#1F2937","--muted-color":"#6B7280"}},{name:"Sunset Orange",colors:{"--primary-color":"#F97316","--secondary-color":"#FACC15","--background-color":"#FFF7ED","--card-background":"#FFFFFF","--text-color":"#1F2937","--muted-color":"#6B7280"}},{name:"Midnight Glow",colors:{"--primary-color":"#38BDF8","--secondary-color":"#A78BFA","--background-color":"#111827","--card-background":"#1F2937","--text-color":"#F9FAFB","--muted-color":"#9CA3AF"}},{name:"Chocolate Caramel",colors:{"--primary-color":"#78350F","--secondary-color":"#F59E0B","--background-color":"#FEFCE8","--card-background":"#FFFFFF","--text-color":"#1F2937","--muted-color":"#6B7280"}}]},5357:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(4057).A)("ShieldQuestion",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[2992,3644,8249,9680,615,9100,6814,8441,1517,7358],()=>r(9023)),_N_E=e.O()}]);